import React from 'react';
import { Input, Flex, Box, InputGroup, InputLeftElement, useBreakpointValue } from '@chakra-ui/react';
import { SearchIcon } from '@chakra-ui/icons';
interface SearchProps {
  keywords: string;
  onSearch: (searchTerm: string) => void;
  setKeywords: (keywords: string) => void;
}

const Search: React.FC<SearchProps> = React.memo(({ keywords, setKeywords }) => {
  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {
    setKeywords(e.target.value);
  };

  const Logo = () => (
    <a href='/'>
      <svg xmlns="http://www.w3.org/2000/svg" width="100" height="66" viewBox="0 0 942.715 434.569"><rect width="942.715" height="434.569" rx="137.958" fill="#fff" /><path d="M180.207 96.386c-25.25 0-35.32 3.289-37.875 7.875-29.113 52.266-27.841 145.046-30 233.25-.141 5.748 1.625 10.875 4.875 15.375s7.625 6.75 13.125 6.75h115.5c4.5 0 7.75-6 9.75-18l.369-3.506-1.021-1.002c-10.953-11.451-19.178-28.976-24.678-49.117h-41.795c.309-63.096 35.215-173.388 30-183.75-2.36-4.69-12.75-7.875-38.25-7.875z" fill="#d900bd" /><path d="M343.84 63.118c-27.608-.156-56.287 10.549-81.465 32.768-22.25 22.75-33.375 74.25-33.375 118.5 0 44 11 91.5 33 114.5 42.5 42.628 107.664 46.003 156.125 1.5 5.443-5.443 10.215-12.419 14.326-20.504-12.781-26.854-19.178-65.347-19.178-99.832 0-29.206 6.182-67.921 18.537-95.605-3.771-7.518-8.081-13.967-12.936-18.934-20.891-21.221-47.427-32.237-75.035-32.393zm-2.477 71.572c7.116-.054 14.235 4.484 20.887 15.195 8.25 10.75 12.375 44.125 12.375 64.125s-4 49.375-12 60.125c-14.955 20.858-24.013 22.275-45.125.375-7.75-10.75-11.625-40-11.625-59.75 0-20 4-53.5 12-64.5 7.365-9.55 15.424-15.509 23.488-15.57z" fill="#04b934" /><path d="M538.909 53.469c-28.726.308-55.88 10.71-83.01 36.08-21.75 24.25-32.625 79.75-32.625 118.5 0 45.5 11.125 98 33.375 121.5 28.81 29.872 78.638 41.649 123.5 30.375 15.25-3.5 25.375-7 30.375-10.5l.281-22.08c-22.016-30.638-30.884-68.754-26.137-104.178l-1.52-.117c-4.75 0-10.75.625-18 1.875-7.25 1-10.875 3.25-10.875 6.75l-.75 51c.113 19.6-29.619 6.27-37.625-6.375-9.75-11-14.625-45-14.625-66s4.75-60.5 14.25-70.5c11.83-12.12 24.327-18.935 42.125-11.625 7 2 11.625 4 13.875 6 2.5 1.75 4.75 2.625 6.75 2.625 2.25 0 5.75-2.5 10.5-7.5s9-12.5 12.75-22.5c3.75-10.25 5.625-18.125 5.625-23.625s-.125-9.25-.375-11.25c-5.25-5.75-15-10.25-29.25-13.5-12.276-3.058-24.185-4.816-35.83-4.953l-2.785-.002zm134.629 175.844c-2.505 15.164 1.067 29.627 11.078 43.447a45.35 45.35 0 0 0 3.938 4.66l-.869-45.371c0-.992-5.701-1.902-14.146-2.736z" fill="#0081ff" /><path d="M710.491 363.385c-35 0-63.625-11.5-85.875-34.5-43.912-53.157-44.741-133.713.375-181 22.5-22.75 51.375-34.125 86.625-34.125 35.5 0 64.125 11.25 85.875 33.75 43.174 54.371 44.803 136.412-.75 182.875-22.25 22-51 33-86.25 33zm.375-177.625c-12 0-22.125 5.5-30.375 16.5-15.98 25.933-16.547 49.926-.375 72.25 7.75 10.5 17.875 15.75 30.375 15.75 12.75 0 23-5.375 30.75-16.125 16.562-22.943 16.071-50.624-.375-72.25-8-10.75-18-16.125-30-16.125z" fill="#f80" /></svg>
    </a>
  );

  const MobileLogo = () => (
    <a href='/'>
      <svg xmlns="http://www.w3.org/2000/svg" width="60" height="66" viewBox="0 0 942.715 434.569"><rect width="942.715" height="434.569" rx="137.958" fill="#fff" /><path d="M538.908 53.469c-28.726.308-55.88 10.71-83.01 36.08-21.75 24.25-32.625 79.75-32.625 118.5 0 45.5 11.125 98 33.375 121.5 28.81 29.872 78.638 41.649 123.5 30.375 15.25-3.5 25.375-7 30.375-10.5l.281-22.08c-22.016-30.638-30.884-68.754-26.137-104.178l-1.52-.117c-4.75 0-10.75.625-18 1.875-7.25 1-10.875 3.25-10.875 6.75l-.75 51c.113 19.6-29.619 6.27-37.625-6.375-9.75-11-14.625-45-14.625-66s4.75-60.5 14.25-70.5c11.83-12.12 24.327-18.935 42.125-11.625 7 2 11.625 4 13.875 6 2.5 1.75 4.75 2.625 6.75 2.625 2.25 0 5.75-2.5 10.5-7.5s9-12.5 12.75-22.5c3.75-10.25 5.625-18.125 5.625-23.625s-.125-9.25-.375-11.25c-5.25-5.75-15-10.25-29.25-13.5-12.276-3.058-24.185-4.816-35.83-4.953l-2.785-.002zM343.84 63.117c-27.608-.156-56.287 10.549-81.465 32.768-22.25 22.75-33.375 74.25-33.375 118.5 0 44 11 91.5 33 114.5 42.5 42.628 107.664 46.003 156.125 1.5 5.443-5.443 10.215-12.419 14.326-20.504-12.781-26.854-19.178-65.347-19.178-99.832 0-29.206 6.182-67.921 18.537-95.605-3.771-7.518-8.081-13.967-12.936-18.934-20.891-21.221-47.427-32.237-75.035-32.393zM180.207 96.385c-25.25 0-35.32 3.289-37.875 7.875-29.113 52.266-27.841 145.046-30 233.25-.141 5.748 1.625 10.875 4.875 15.375s7.625 6.75 13.125 6.75h115.5c4.5 0 7.75-6 9.75-18l.369-3.506-1.021-1.002c-10.953-11.451-19.178-28.976-24.678-49.117h-41.795c.309-63.096 35.215-173.388 30-183.75-2.36-4.69-12.75-7.875-38.25-7.875zm531.41 17.375c-35.25 0-64.125 11.375-86.625 34.125-45.116 47.287-44.287 127.843-.375 181 22.25 23 50.875 34.5 85.875 34.5 35.25 0 64-11 86.25-33 45.553-46.463 43.924-128.504.75-182.875-21.75-22.5-50.375-33.75-85.875-33.75zm-370.254 20.93c7.116-.054 14.235 4.484 20.887 15.195 8.25 10.75 12.375 44.125 12.375 64.125s-4 49.375-12 60.125c-14.955 20.858-24.013 22.275-45.125.375-7.75-10.75-11.625-40-11.625-59.75 0-20 4-53.5 12-64.5 7.365-9.55 15.424-15.509 23.488-15.57zm369.504 51.07c12 0 22 5.375 30 16.125 16.446 21.626 16.937 49.307.375 72.25-7.75 10.75-18 16.125-30.75 16.125-12.5 0-22.625-5.25-30.375-15.75-16.172-22.324-15.605-46.317.375-72.25 8.25-11 18.375-16.5 30.375-16.5zm-37.33 43.553c-2.505 15.164 1.067 29.627 11.078 43.447a45.35 45.35 0 0 0 3.938 4.66l-.869-45.371c0-.992-5.701-1.902-14.146-2.736z" /></svg>
    </a>
  )
  const LogoComponent = useBreakpointValue({
    base: <MobileLogo />,
    md: <Logo />,
  });
  return (
    <Box className="header" px={4} boxShadow="lg" backgroundColor={'#070708'} >
      <Flex alignItems="center" justifyContent="space-between" gap={5}>
        <Box pl={1}>{LogoComponent}</Box>
        <Box flex="1 0 auto" display="flex" justifyContent="center">
          <InputGroup maxW="200px">
            <InputLeftElement pointerEvents="none">
              <SearchIcon color="gray.300" />
            </InputLeftElement>
            <Input
              value={keywords}
              onChange={handleInputChange}
              placeholder="Search..."
              variant="filled"
              backgroundColor={'#383733 !important'}
            />
          </InputGroup>
        </Box>
        <Box display={{ base: "none", md: "block" }} flex="0 1 110px" /> {/* Artifical Width for Spacer to maintain centering */}
      </Flex>
    </Box>

  );
});

export default Search;
